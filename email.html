<!DOCTYPE html>
<html lang="en">
<head>
	<title>Email API</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Bria Williams's Portfolio">
    <meta name="author" content="Bria Williams">

    <!-- Google Fonts -->
	<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">

    <!-- FontAwesome JS -->
    <script defer src="assets/fontawesome/js/all.js"></script>

    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="assets/css/theme-4.css">

	<!--Highlight JS Plugin-->
	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/styles/paraiso-dark.min.css">

</head>

<body>
	<header class="header text-center">
		<div class="force-overflow">
			<h1 class="blog-name pt-lg-4 mb-0"><a href="index.html">Bria Williams</a></h1>

			<nav class="navbar navbar-expand-lg navbar-dark" >

				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>

				<div id="navigation" class="collapse navbar-collapse flex-column" >
					<div class="profile-section pt-3 pt-lg-0">
						<img class="profile-image mb-3 rounded-circle mx-auto" src="assets/images/briaProfile.jpg" alt="image" >

						<div class="bio mb-3">Hi, my name is Bria Williams and I'm a software developer.</div>
						<ul class="social-list list-inline py-2 mx-auto">
							<li class="list-inline-item"><a href="https://twitter.com/briawilliiams"><i class="fab fa-twitter fa-fw"></i></a></li>
							<li class="list-inline-item"><a href="https://www.linkedin.com/in/bria-williams/"><i class="fab fa-linkedin-in fa-fw"></i></a></li>
							<li class="list-inline-item"><a href="https://github.com/briawilliams"><i class="fab fa-github-alt fa-fw"></i></a></li>
						</ul> 
                        <!-- //social-list -->
						<hr>
					</div>
                   <!-- //profile-section -->

					<ul class="navbar-nav flex-column text-left">
						<li class="nav-item">
							<a class="nav-link" href="index.html"><i class="fas fa-user fa-fw mr-2"></i>About Me</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="portfolio.html"><i class="fas fa-laptop-code fa-fw mr-2"></i>Portfolio</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="resume.html"><i class="fas fa-file-alt fa-fw mr-2"></i>Resume</a>
						</li>
					</ul>

					<div class="my-2">
						<a class="btn btn-primary" href="contact.html"><i class="fas fa-paper-plane mr-2"></i>Contact Me</a>
					</div>


					<div class="dark-mode-toggle text-center w-100">
						<hr class="mb-4">
					    <h4 class="toggle-name mb-3 "><i class="fas fa-adjust mr-1"></i>Dark Mode</h4>

					    <input class="toggle" id="darkmode" type="checkbox">
					    <label class="toggle-btn mx-auto mb-0" for="darkmode"></label>

					</div>
                    <!-- //dark-mode-toggle -->

				</div>
			</nav>
		</div>
    <!-- //force-overflow -->
	</header>

   <div class="main-wrapper">
	    <section class="cta-section theme-bg-light py-5">
		    <div class="container single-col-max-width">
			    <h2 class="heading text-center">Project: Email API</h2>
			    <div class="project-intro text-center">
					<p class="mb-0 lead">An email API that uses Python and a JSON response to send messages to an email.</p>
				</div>
		    </div><!-- //container -->
	    </section>

	    <section class="project px-3 py-5 p-md-5">
		    <div class="container">
			    <div class="project-meta media flex-column flex-md-row p-4 theme-bg-light">
				    <img class="project-thumb mb-3 mb-md-0 mr-md-5 rounded d-none d-md-inline-block" src="assets/images/project/toDoShot.png" style="border: 12px solid #555;"alt="">
					<div class="media-body">
					    <div class="client-info">
						    <h3 class="client-name font-weight-bold mb-4">Flask Email API</h3>
						    <ul class="client-meta list-unstyled">
								<!-- <li class="mb-2"><i class="fas fa-industry fa-fw mr-2"></i><strong>Industry:</strong> Tech</li> -->
								<li class="mb-2"><strong><i class="fas fa-link fa-fw mr-2"></i>Link:</strong> <a class="theme-link" href="https://email-controller.herokuapp.com/contact" target="_blank">Email API</a></li>
						    </ul>
						    <div class="client-bio mb-4">The Email API takes information submitted from a form and sends it to an email. </div>
						    <h4 class="subheading mb-3">Project Specifications</h4>
						    <ul class="mb-0">
							    <li class="mb-2">Python Flask framework used for email configuration and read data from request.</li>
							    <li class="mb-2">Javascript get data from form and send request.  </li>
								<li class="mb-2">Heroku CLI used to deploy application.</li>
						    </ul>
					    </div>
					</div><!-- //media-body -->
				</div><!-- //project-meta-->
				<div class="project-sections py-5">
					<div class="project-section mb-5">
					    <h3 class="project-section-title mb-3">Project Overview</h3>
					    <p>This application takes information submitted via a form and uses it to send an email. 
						    The email functionality using Flask-Mail. After installing the Flask-Mail extension, 
							I configured it using the standard Flask config API. It looked like this:
							<pre>
								<code class="hljs python">
app = Flask(__name__)
mail= Mail(app)

app.config['MAIL_SERVER']='smtp.gmail.com'
app.config['MAIL_PORT'] = 465
app.config['MAIL_USERNAME'] = 'bria.williams128@gmail.com'
app.config['MAIL_PASSWORD'] = '*********'
app.config['MAIL_USE_TLS'] = False
app.config['MAIL_USE_SSL'] = True

</code></pre>
							I then created a route that accepts POST requests as a function. Within that function, 
							I implemented a condition that 	sends a 400 bad request if the method is not POST or if
						    any of the required fields are missing in the request. The function uses jsonify to 
							return a JSON response to the user with an appropriate message and a code of 400.
							<br>
							<br>
							In case the method is POST, the JSON response from the server is parsed from a string to a JSON 
							object so that I could get the values from the response and format the email message being sent. 
							I then create an instance of the Message class from Flask-Mail and set up the Message object with 
							subject, sender, and recipients of the email. Then the Message instance is sent. This is the
							back-end API implementation.
							<br>
							<br>
							<pre><code class="hljs python">

@app.route("/contact", methods= ['GET', 'POST'])
def contact():
    if request.method == 'POST':
	request_body = request.get_json()
	name = request_body['name']
	email = request_body['from']
	time = request_body['time']
	reason = request_body['reason']
	text = request_body['text']

	message = "Hi Bria,\n\nYou received a message from " + name + " on " + time + " via this email: " + email + ". \n" \
		"\nHere is the reason for their message: " + reason + "\n\nHere is the message that they sent: \n \n" + text + \
		"\n\nThis concludes their message. \n\nSincerely your secretary, \n\n" \
		"Bria."

	msg = Message('Website Contact', sender='bria.williams128@gmail.com', recipients=['bria.williams128@gmail.com'])
	msg.body = message
	mail.send(msg)
							</code></pre>
							For the front-end, I used Javascript to create a function that listens for a "click" event on a submit button in
							the form to send the data to the server. I grabbed the data inputted into the form by getting each input element by its
							ID and storing its value into a variable. I initialized an XHTMLRequest with POST as the request's method and set the
							URL to the address of the server. Another function is called when the state of the request changes which handles the
							alert the user sees in the view. I also formatted the date so that it would be more readable within the message.
						<pre>
							<code class="hljs javascript">
document.getElementById("send-now").addEventListener("click", function(event) {
    const SERVER_URL = 'https://email-controller.herokuapp.com/contact';
    const POST_METHOD = 'POST';
    const isAsync = true;
    event.preventDefault();
    var cname = document.getElementById("cname").value;
    var cemail = document.getElementById("cemail").value;
    var reason = document.getElementById("services").value;
    var cmessage = document.getElementById("cmessage").value;
    var xhr = new XMLHttpRequest();
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const date = new Date();

xhr.open(POST_METHOD, SERVER_URL, isAsync);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {//Call a function when the state changes.
  var alert = document.getElementById("alert");
    if(xhr.readyState == 4 && xhr.status == 200) {
    // show alert if success
    var message = JSON.parse(xhr.responseText).message;
    document.getElementById("paragraph").textContent = message;
    if(alert.classList.contains("alert-danger")) {
    alert.classList.remove("alert-danger")
    alert.classList.add("alert-success")
    }
    alert.style.display = "block";
    // clean form
    document.getElementById("name").value='';
    document.getElementById("email").value='';
    document.getElementById("reason").value='';
    document.getElementById("message").value='';
    } else {
    alert.classList.remove("alert-success")
    alert.classList.add("alert-danger")
    var alert = document.getElementById("alert");
    alert.style.display = "block";
    document.getElementById("paragraph").textContent = 'Some error occurred. Please try again.';
   }
}
xhr.send(JSON.stringify({ name: name, from: email, reason: reason, time: date.toLocaleDateString(undefined, options),
text: cmessage}));
});
						</code
						></pre>

						I actually used the implementation of this Email API on this very website. 
						It handles the messages sent via the contact form and sends the message 
						to my email. </p>
					</div><!--//project-section-->

				</div>
			</div>
		</section>
	</div>

<!--	 				<div class="project-section mb-5">-->
<!--					     <h3 class="project-section-title">The Challenge</h3>-->
<!--					    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. </p>-->

<!--					</div>&lt;!&ndash;//project-section&ndash;&gt;-->

<!--					<div class="project-section mb-5">-->
<!--					     <h3 class="project-section-title">The Approach &amp; Solution</h3>-->
<!--					    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. </p>-->
<!--					    <div class="row mt-5">-->
<!--						    <div class="col-12 col-lg-6 mb-5">-->
<!--							    <img class="img-fluid rounded" src="assets/images/project/project-figure-1.jpg" alt="image">-->
<!--						    </div>-->
<!--						    <div class="col-12 col-lg-6 mb-5">-->
<!--							    <img class="img-fluid rounded" src="assets/images/project/project-figure-2.jpg" alt="image">-->
<!--						    </div>-->
<!--					    </div>-->

<!--&lt;!&ndash;					    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. </p>&ndash;&gt;-->
<!--&lt;!&ndash;					     &ndash;&gt;-->
<!--&lt;!&ndash;					</div>&lt;!&ndash;//project-section&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;					&ndash;&gt;-->
<!--&lt;!&ndash;					<div class="project-section mb-5">&ndash;&gt;-->
<!--&lt;!&ndash;					     <h3 class="project-section-title mb-3">The Results</h3>&ndash;&gt;-->
<!--&lt;!&ndash;					     &ndash;&gt;-->
<!--&lt;!&ndash;					     <div class="metrics mb-4">&ndash;&gt;-->
<!--&lt;!&ndash;						     <div class="row">&ndash;&gt;-->
<!--&lt;!&ndash;							     <div class="metric col-6 col-xl-3 mb-3">&ndash;&gt;-->
<!--&lt;!&ndash;								     <div class="inner p-3 theme-bg-light">&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-name">Efficiency</div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-data mb-2">20% <span class="unit">up</span></div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-desc">Metric description lorem ipsum dolor sit amet.</div>&ndash;&gt;-->
<!--&lt;!&ndash;								     </div>&ndash;&gt;-->
<!--&lt;!&ndash;							     </div>&lt;!&ndash;//metric&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;							     <div class="metric col-6 col-xl-3 mb-3">&ndash;&gt;-->
<!--&lt;!&ndash;								     <div class="inner p-3 theme-bg-light">&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-name">Customer Satisfaction</div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-data mb-2">14% <span class="unit">up</span></div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-desc">Metric description lorem ipsum dolor sit amet.</div>&ndash;&gt;-->
<!--&lt;!&ndash;								     </div>&ndash;&gt;-->
<!--&lt;!&ndash;							     </div>&lt;!&ndash;//metric&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;							     <div class="metric col-6 col-xl-3 mb-3">&ndash;&gt;-->
<!--&lt;!&ndash;								     <div class="inner p-3 theme-bg-light">&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-name">Sales Generated</div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-data mb-2">$130K</div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-desc">Metric description lorem ipsum dolor sit amet.</div>&ndash;&gt;-->
<!--&lt;!&ndash;								     </div>&ndash;&gt;-->
<!--&lt;!&ndash;							     </div>&lt;!&ndash;//metric&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;							     <div class="metric col-6 col-xl-3 mb-3">&ndash;&gt;-->
<!--&lt;!&ndash;								     <div class="inner p-3 theme-bg-light">&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-name">Overall Cost</div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-data mb-2">20% <span class="unit">down</span></div>&ndash;&gt;-->
<!--&lt;!&ndash;									     <div class="metric-desc">Metric description lorem ipsum dolor sit amet.</div>&ndash;&gt;-->
<!--&lt;!&ndash;								     </div>&ndash;&gt;-->
<!--&lt;!&ndash;							     </div>&lt;!&ndash;//metric&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;						     </div>&lt;!&ndash;//row&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;					     </div>&lt;!&ndash;//metrics&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;					     &ndash;&gt;-->
<!--&lt;!&ndash;					    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate eget, arcu. In enim justo, rhoncus ut, imperdiet a, venenatis vitae, justo. Nullam dictum felis eu pede mollis pretium. Integer tincidunt. Cras dapibus. </p>&ndash;&gt;-->
<!--&lt;!&ndash;					     &ndash;&gt;-->
<!--&lt;!&ndash;					</div>&lt;!&ndash;//project-section&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;					&ndash;&gt;-->
<!--&lt;!&ndash;					<div class="project-section mb-5">&ndash;&gt;-->
<!--&lt;!&ndash;					     <h3 class="project-section-title mb-3">Client Testimonial</h3>&ndash;&gt;-->
<!--&lt;!&ndash;                    </div>&lt;!&ndash;//project-section&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;				    <div class="client-quote">&ndash;&gt;-->
<!--&lt;!&ndash;						<div class="quote-holder">&ndash;&gt;-->
<!--&lt;!&ndash;							<blockquote class="quote-content">&ndash;&gt;-->
<!--&lt;!&ndash;								Simon is a brilliant software engineer! Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis.&ndash;&gt;-->
<!--&lt;!&ndash;							</blockquote>&ndash;&gt;-->
<!--&lt;!&ndash;							<i class="fas fa-quote-left"></i>&ndash;&gt;-->
<!--&lt;!&ndash;						</div>&lt;!&ndash;//quote-holder&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;						<div class="source-holder">&ndash;&gt;-->
<!--&lt;!&ndash;							<div class="source-profile">&ndash;&gt;-->
<!--&lt;!&ndash;								<img src="assets/images/clients/profile-4.png" alt="image"/>&ndash;&gt;-->
<!--&lt;!&ndash;							</div>&ndash;&gt;-->
<!--&lt;!&ndash;							<div class="meta">&ndash;&gt;-->
<!--&lt;!&ndash;								<div class="name">James Lee</div>&ndash;&gt;-->
<!--&lt;!&ndash;								<div class="info">Product Manager, Amazon</div>&ndash;&gt;-->
<!--&lt;!&ndash;							</div>&ndash;&gt;-->
<!--&lt;!&ndash;						</div>&ndash;&gt;-->
<!--&lt;!&ndash;					</div>&ndash;&gt;-->
<!--&lt;!&ndash;				</div>&ndash;&gt;-->
<!--&lt;!&ndash;		    </div>&ndash;&gt;-->
<!--&lt;!&ndash;	    </section>&ndash;&gt;-->
<!--&lt;!&ndash;	    &ndash;&gt;-->
<!--&lt;!&ndash;	    <section class="promo-section theme-bg-light py-5 text-center">&ndash;&gt;-->
<!--&lt;!&ndash;		    <div class="container single-col-max-width">&ndash;&gt;-->
<!--&lt;!&ndash;			    <h2 class="title">Want me to help with your project?</h2>&ndash;&gt;-->
<!--&lt;!&ndash;			    <p>If you take on freelance work, you can use this section to prompt any potential clients to get in touch with you with their project requirements.</p>&ndash;&gt;-->
<!--&lt;!&ndash;                <div class="text-center"><a class="btn btn-primary" href="contact.html" target="_blank"><i class="fas fa-paper-plane mr-2"></i>Hire Me</a></div>&ndash;&gt;-->
<!--&lt;!&ndash;		    </div>&lt;!&ndash;//container&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;	    </section>&lt;!&ndash;//promo-section&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;	    &ndash;&gt;-->
<!--&lt;!&ndash;	    <footer class="footer text-center py-4">&ndash;&gt;-->
<!--&lt;!&ndash;			<small class="copyright">Template Copyright &copy; <a href="https://themes.3rdwavemedia.com/" target="_blank">3rd Wave Media</a></small>&ndash;&gt;-->
<!--&lt;!&ndash;		</footer>&ndash;&gt;-->
<!--&lt;!&ndash;    &ndash;&gt;-->
<!--&lt;!&ndash;    </div>&lt;!&ndash;//main-wrapper&ndash;&gt;&ndash;&gt;-->
<!--&lt;!&ndash;    &ndash;&gt;-->


<!--    Javascript-->
   <script src="assets/plugins/jquery-3.4.1.min.js"></script>
   <script src="assets/plugins/popper.min.js"></script>
   <script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script>
   <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.6.0/highlight.min.js"></script>
   <script>hljs.initHighlightingOnLoad();</script>

<!--    Dark Mode-->
	<script src="assets/plugins/js-cookie.min.js"></script>
	<script src="assets/js/dark-mode.js"></script>

</body>
</html>

